<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>hackthebox :: hg8&#39;s Notes — My notes about infosec world. Pentest/Bug Bounty/CTF Writeups.</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content="ctf, hackthebox, htb, security"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/tags/hackthebox/" />




<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon.ico">



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="hackthebox"/>
<meta name="twitter:description" content=""/>



<meta property="og:title" content="hackthebox" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/tags/hackthebox/" />
<meta property="og:updated_time" content="2020-04-18T00:00:00+00:00" /><meta property="og:site_name" content="hg8&#39;s Notes" />



<link rel="alternate" type="application/rss+xml" href="/tags/hackthebox/index.xml" title="hg8's Notes" />



  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">./hg8.sh</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        
<nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/">Posts</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
        
          <li><a href="/about">About</a></li>
        
      
      
    
    <li>
<a href="/search" title="Search">
<img src="/icon/search.svg" alt="search" height="20">
</a>
<li>
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/">Posts</a></li>
      
    
      
        <li><a href="/tags">Tags</a></li>
      
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  
  
  

  <div class="posts">
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/manguo/">Mango - HackTheBox</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-04-18
          </span>

          
        
        <span class="post-author">— Written by hg8</span>
        
          <span class="post-read-time">— 11 min read</span>
        
      </div>

      
        <span class="post-tags">
          
            #<a href="/tags/hackthebox/">hackthebox</a>&nbsp;
          
            #<a href="/tags/ctf/">ctf</a>&nbsp;
          
            #<a href="/tags/mango/">mango</a>&nbsp;
          
            #<a href="/tags/mongodb/">mongodb</a>&nbsp;
          
            #<a href="/tags/nosql-injection/">nosql injection</a>&nbsp;
          
            #<a href="/tags/setuid/">setuid</a>&nbsp;
          
            #<a href="/tags/gtfobins/">gtfobins</a>&nbsp;
          
        </span>
      

      
        
          <img src="/img/mango-hackthebox.png" class="post-cover" />
        
      

      <div class="post-content">
        
          <p>Mango just retired on HackTheBox, it was an Medium rated Linux box. As usual I really liked the whole exploration process especially the custom exploitation part and learned a bit about Mongodb. I know I say this every-time but this box is my favorite box so far.</p>
<p><strong>Tl;Dr:</strong> User flag was accessible after exploiting an NoSQL injection flaw to extract usernames and passwords of accounts present on the box. Those credentials can be used to SSH login to the box as <code>mango</code> then pivoting to the <code>admin</code> user holding the flag by <code>su</code> to it using the password extracted previously.<br>
The root flag was accessible by exploiting the <code>jjs</code> binary that have setuid bit set allowing to read and write files on the box as <code>root</code> user.</p>
<p>Alright! Let&rsquo;s get into the details now!</p>

        
      </div>
      
        <div><a class="read-more button" href="/posts/manguo/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/traverxec/">Traverxec - HackTheBox</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-04-11
          </span>

          
        
        <span class="post-author">— Written by hg8</span>
        
          <span class="post-read-time">— 10 min read</span>
        
      </div>

      
        <span class="post-tags">
          
            #<a href="/tags/hackthebox/">hackthebox</a>&nbsp;
          
            #<a href="/tags/ctf/">ctf</a>&nbsp;
          
            #<a href="/tags/traverxec/">traverxec</a>&nbsp;
          
            #<a href="/tags/nhttpd/">nhttpd</a>&nbsp;
          
            #<a href="/tags/nostromo/">nostromo</a>&nbsp;
          
            #<a href="/tags/directory-transversal/">Directory Transversal</a>&nbsp;
          
            #<a href="/tags/cve-2019-16278/">CVE-2019-16278</a>&nbsp;
          
            #<a href="/tags/john/">john</a>&nbsp;
          
            #<a href="/tags/journalctl/">journalctl</a>&nbsp;
          
            #<a href="/tags/less/">less</a>&nbsp;
          
            #<a href="/tags/gtfobins/">GTFOBins</a>&nbsp;
          
        </span>
      

      
        
          <img src="/img/traverxec-hackthebox.png" class="post-cover" />
        
      

      <div class="post-content">
        
          <p>Traverxec was in my opinion a particular and interesting box. While being rated easy it still teach me a few tricks and got me sometimes very frustrated because it was super easy to overlook and overthink easy things. Still it was worth cogitate on it!</p>
<p><strong>Tl;Dr:</strong> The user flag was accessible after using a Remote Code Execution exploit on the <code>nhttpd</code> web server running, giving us access to the <code>www-data</code> user. From here you were able to <em>enter</em> the user home directory and access to a backup archive containing its SSH private key. After brute-forcing the passphrase you could connect to the user account and grab the flag.<br>
The root flag consisted in exploiting a misconfiguration in <code>sudo</code> config allowing to view <code>journalctl</code> entries as <code>root</code> without password. Since <code>journalctl</code> use <code>less</code> as a pager it was possible to break out from <code>less</code> running as <code>root</code> by spawning an interactive system shell.</p>
<p>Alright! Let&rsquo;s get into the details now!</p>

        
      </div>
      
        <div><a class="read-more button" href="/posts/traverxec/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/registry/">Registry - HackTheBox</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-04-04
          </span>

          
        
        <span class="post-author">— Written by hg8</span>
        
          <span class="post-read-time">— 19 min read</span>
        
      </div>

      
        <span class="post-tags">
          
            #<a href="/tags/hackthebox/">hackthebox</a>&nbsp;
          
            #<a href="/tags/ctf/">ctf</a>&nbsp;
          
            #<a href="/tags/registry/">registry</a>&nbsp;
          
            #<a href="/tags/docker/">docker</a>&nbsp;
          
            #<a href="/tags/docker-registry/">docker-registry</a>&nbsp;
          
            #<a href="/tags/php/">php</a>&nbsp;
          
            #<a href="/tags/shell_exec/">shell_exec</a>&nbsp;
          
            #<a href="/tags/webshell/">webshell</a>&nbsp;
          
            #<a href="/tags/enumeration/">enumeration</a>&nbsp;
          
            #<a href="/tags/sudo/">sudo</a>&nbsp;
          
            #<a href="/tags/restic/">restic</a>&nbsp;
          
        </span>
      

      
        
          <img src="/img/registry-hackthebox.png" class="post-cover" />
        
      

      <div class="post-content">
        
          <p>Registry was my first hard box, this box was pretty interesting with real-life scenario like I love. This box shows the importance to understand how things works &ldquo;behind the scene&rdquo; and to read all documentations carefully to not miss anything. I recommend this box for people who finished few medium difficulty boxes and wants to level-up.</p>
<p><strong>Tl;Dr:</strong> The user flag consisted in finding an <code>INSTALL</code> archive containing install instruction and certificate to deploy an online docker registry, this certificate was used on the docker registry running on the box. Using this cert we could connect to the registry API and pull the docker image available on it. Running the docker image locally and doing recon into it allows to find an SSH key along with its passphrase. This key would allow to connect to the <code>bolt</code> user account and grab the user flag.<br>
The root flag required to access a CMS after brute-forcing the admin password found in a sqlite database. From the CMS we pivot from the <code>bolt</code> user to <code>www-data</code> user by exploiting insecure file upload vulnerability. From <code>www-data</code> a backup software - restic - can be run as sudo without password. Using this software we are able to backup the whole <code>/root/</code> folder and restore its content with read privileges for <code>www-data</code> including the <code>root.txt</code> flag and a <code>.ssh/id_rsa</code> key allowing us to get a full shell as root.</p>

        
      </div>
      
        <div><a class="read-more button" href="/posts/registry/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/postman/">Postman - HackTheBox</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-03-14
          </span>

          
        
        <span class="post-author">— Written by hg8</span>
        
          <span class="post-read-time">— 11 min read</span>
        
      </div>

      
        <span class="post-tags">
          
            #<a href="/tags/hackthebox/">hackthebox</a>&nbsp;
          
            #<a href="/tags/ctf/">ctf</a>&nbsp;
          
            #<a href="/tags/postman/">postman</a>&nbsp;
          
            #<a href="/tags/gobuster/">gobuster</a>&nbsp;
          
            #<a href="/tags/webmin/">webmin</a>&nbsp;
          
            #<a href="/tags/redis/">redis</a>&nbsp;
          
            #<a href="/tags/cve-2019-12840/">cve-2019-12840</a>&nbsp;
          
            #<a href="/tags/ssh/">ssh</a>&nbsp;
          
            #<a href="/tags/john/">john</a>&nbsp;
          
        </span>
      

      
        
          <img src="/img/postman-hackthebox.png" class="post-cover" />
        
      

      <div class="post-content">
        
          <p>Postman was an &ldquo;easy&rdquo; rated box. It was quite quick but nice to solve. It can be really interesting if you want to learn and play with the now widely used Redis.</p>
<p><strong>Tl;Dr:</strong> The user flag consisted in exploiting a redis instance accessible without authentication. From this instance you would bruteforce the passphrase of a SSH key found in a backup folder and use its password to pivot from <code>redis</code> user to <code>Matt</code> user.<br>
Using the same password we could login to a Webmin panel and use an exploit (CVE-2019-12840) to achieve remote commands execution as root and grab the flag.</p>
<p>Alright, let&rsquo;s get into it!</p>

        
      </div>
      
        <div><a class="read-more button" href="/posts/postman/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/bitlab/">Bitlab - HackTheBox</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-01-11
          </span>

          
        
        <span class="post-author">— Written by hg8</span>
        
          <span class="post-read-time">— 6 min read</span>
        
      </div>

      
        <span class="post-tags">
          
            #<a href="/tags/hackthebox/">hackthebox</a>&nbsp;
          
            #<a href="/tags/ctf/">ctf</a>&nbsp;
          
            #<a href="/tags/bitlab/">bitlab</a>&nbsp;
          
            #<a href="/tags/obfuscation/">obfuscation</a>&nbsp;
          
            #<a href="/tags/webshell/">webshell</a>&nbsp;
          
            #<a href="/tags/git/">git</a>&nbsp;
          
            #<a href="/tags/gitlab/">gitlab</a>&nbsp;
          
        </span>
      

      
        
          <img src="/img/bitlab-hackthebox.png" class="post-cover" />
        
      

      <div class="post-content">
        
          Bitlab box was an insteresting box, user part was typical real-life scenario (actually meet this scenario during a pentest) while the root part was a good Reverse Engineering challenge.
        
      </div>
      
        <div><a class="read-more button" href="/posts/bitlab/">Read more →</a></div>
      
    </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
    
      <span class="button next">
        <a href="/tags/hackthebox/page/2/">
          <span class="button__text">Older posts</span>
          <span class="button__icon">→</span>
        </a>
      </span>
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="footer__content">
        <span>© 2020</span>
        <span><a href="https://hg8.sh" target="_blank" rel="noopener">hg8.sh</a></span>
        <span>
          &nbsp; 
          <a class="social-icon" href="https://twitter.com/_hg8_" target="_blank" rel="noopener" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
          &nbsp; 
          <a class="social-icon" href="https://github.com/hg8" target="_blank" rel="noopener" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a>
          &nbsp;
          <a class="social-icon" href="https://www.hackthebox.eu/profile/128102" target="_blank" rel="noopener" title="hackthebox"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></a>
          &nbsp; 
          <a class="social-icon" href="https://hg8.sh/index.xml" target="_blank" rel="noopener" title="RSS"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
        </span>
      </div>
    
  </div>
</footer>



<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>

      
    </div>

    
  </body>
</html>
